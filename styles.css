/* ===========================
   Estilos base & variáveis
   =========================== */
:root {
  --bg: #000;
  --red: #c90a0a;
  --red-deep: #7a0202;
  --green-sick: #6bbf3f;
  --purple: #6a2bbd;

  --t-flash: 120ms;
  --t-glitch: 900ms;
  --t-shake: 600ms;
  --t-zoom: 700ms;
  --t-hold: 2000ms;
  --t-blood: 900ms;
  --t-fadeout: 550ms;

  --shake-amount: 8px;
  --blur-start: 8px;

  --font-title: 'Creepster', system-ui, sans-serif;
  --font-ui: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

@media (prefers-reduced-motion: reduce) {
  :root {
    --t-flash: 80ms;
    --t-glitch: 450ms;
    --t-shake: 300ms;
    --t-zoom: 500ms;
    --shake-amount: 4px;
  }
  * {
    animation: none !important;
    transition: none !important;
  }
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: #fff;
  font-family: var(--font-ui);
}

/* ===========================
   Fundo e overlays
   =========================== */
.app {
  position: relative;
  width: 100%;
  height: 100dvh;
  overflow: hidden;
  background:
    radial-gradient(80% 60% at 50% 20%, rgba(255,0,0,0.05), transparent 60%),
    radial-gradient(70% 50% at 80% 10%, rgba(106,43,189,0.08), transparent 60%),
    radial-gradient(60% 40% at 20% 90%, rgba(201,10,10,0.06), transparent 60%),
    #000;
}

.overlay { position: absolute; inset: 0; pointer-events: none; }
.overlay-vignette {
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.85) 100%);
  mix-blend-mode: multiply;
}
.overlay-scanlines {
  background: repeating-linear-gradient(
    to bottom, rgba(255,255,255,0.03) 0 1px, transparent 1px 3px
  );
  opacity: 0.22;
}
.overlay-flash { background: #fff; opacity: 0; }
.overlay-blood {
  background: radial-gradient(ellipse at 50% 60%, rgba(122,2,2,0) 0%, rgba(122,2,2,0.5) 60%, rgba(0,0,0,0.85) 100%);
  opacity: 0;
}
.overlay-dust { opacity: .25; }

/* ===========================
   Hero / Botão inicial
   =========================== */
.hero {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  text-align: center;
  padding: 24px;
  z-index: 10;
}
.title {
  font-family: var(--font-title);
  font-size: clamp(2.4rem, 6vw, 4.2rem);
  text-shadow: 0 0 14px rgba(201,10,10,0.35), 0 0 3px rgba(255,255,255,.2);
  margin: 0 0 6px 0;
}
.subtitle { margin: 0 0 22px 0; opacity: .8; }

/* ===========================
   Botões
   =========================== */
.btn {
  appearance: none;
  border: none;
  border-radius: 14px;
  padding: 14px 22px;
  font-weight: 700;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
}
.btn-primary {
  background: linear-gradient(180deg, var(--red) 0%, var(--red-deep) 100%);
  color: #fff;
  box-shadow: 0 4px 18px rgba(201,10,10,0.35);
}
.btn-primary:active { transform: scale(.98); }
.btn-secondary {
  background: #151515;
  color: #fff;
  border: 1px solid #2a2a2a;
}
.icon-btn {
  margin-left: 8px;
  background: #101010;
  border: 1px solid #262626;
  color: #ddd;
  border-radius: 10px;
  padding: 8px 10px;
  cursor: pointer;
}

.sound-banner {
  position: absolute;
  left: 50%; transform: translateX(-50%);
  top: 10px;
  display: flex; align-items: center; gap: 10px;
  background: rgba(0,0,0,.6);
  border: 1px solid #2a2a2a;
  border-radius: 12px;
  padding: 8px 12px;
  z-index: 20;
  font-size: .95rem;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

/* ===========================
   Monstro
   =========================== */
.monster {
  position: absolute; inset: 0; margin: auto;
  max-width: min(92vh, 92vw);
  max-height: min(92vh, 92vw);
  filter: brightness(0.4) contrast(1.5) saturate(0.8) blur(var(--blur-start));
  transform: scale(1.22);
  opacity: 0;
  z-index: 5;
  pointer-events: none;
  mix-blend-mode: screen;
}


/* ===========================
   CTA final
   =========================== */
.cta {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  gap: 14px;
  background: #000;
  opacity: 0; visibility: hidden;
  z-index: 15;
  text-align: center;
  padding: 28px;
}
.cta-title {
  font-family: var(--font-title);
  font-size: clamp(1.8rem, 4.8vw, 2.6rem);
  margin: 0;
}
.cta-actions { display: flex; gap: 10px; flex-wrap: wrap; }

/* ===========================
   Fallback de áudio
   =========================== */
.audio-hint {
  position: absolute;
  bottom: 18px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,.7);
  border: 1px solid #2a2a2a;
  border-radius: 10px;
  padding: 8px 12px;
  z-index: 30;
}

/* ===========================
   Glitch / Shake / Flash
   =========================== */
.glitch-layer,
.glitch-layer--2 {
  position: absolute; inset: 0;
  background: transparent;
  mix-blend-mode: lighten;
  pointer-events: none;
  z-index: 7;
}
.app.shake { animation: camShake var(--t-shake) ease-in-out; }
@keyframes camShake {
  0%,100% { transform: translate(0,0) }
  20% { transform: translate(calc(var(--shake-amount)*-1), 2px) }
  40% { transform: translate(calc(var(--shake-amount)), -2px) }
  60% { transform: translate(calc(var(--shake-amount)*.6), 1px) }
  80% { transform: translate(calc(var(--shake-amount)*-0.6), -1px) }
}

.flash-on { animation: flash var(--t-flash) ease; }
@keyframes flash {
  0% { opacity: 0; }
  10% { opacity: 1; }
  100% { opacity: 0; }
}

.glitch-on {
  animation: glitchShift var(--t-glitch) steps(12, end);
  background:
    linear-gradient(0deg, rgba(106,43,189,.25), transparent 60%),
    linear-gradient(0deg, rgba(107,191,63,.15), transparent 40%);
}
.glitch-layer--2.glitch-on {
  mix-blend-mode: screen;
  background:
    linear-gradient(0deg, rgba(201,10,10,.25), transparent 60%),
    linear-gradient(0deg, rgba(255,255,255,.08), transparent 40%);
}
@keyframes glitchShift {
  0% { transform: translateX(0); filter: hue-rotate(0deg); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(8px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
  100% { transform: translateX(0); filter: hue-rotate(360deg); }
}

/* ===========================
   Animações monstro e sangue
   =========================== */
.monster.reveal {
  animation: monsterIn var(--t-zoom) cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes monsterIn {
  0% { opacity: 0; transform: scale(1.32); filter: blur(var(--blur-start)) saturate(1.2); }
  100% { opacity: 1; transform: scale(1.0); filter: blur(0) saturate(1.3) contrast(1.2); }
}

.blood-on {
  animation: bloodFade var(--t-blood) ease-in forwards;
}
@keyframes bloodFade {
  0% { opacity: 0; }
  100% { opacity: .9; }
}

.cta-show {
  opacity: 1; visibility: visible;
  transition: opacity var(--t-fadeout) ease;
}

.noscript {
  position: fixed; inset: 0;
  display: grid; place-items: center;
  background: #000;
  color: #fff;
  padding: 24px;
  text-align: center;
}

@media (orientation: landscape) and (min-width: 900px) {
  .monster { max-width: 50vh; max-height: 82vh; }
}
